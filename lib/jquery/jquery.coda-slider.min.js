/*
	jQuery Coda-Slider v2.0 - http://www.ndoherty.biz/coda-slider
	Copyright (c) 2009 Niall Doherty
	This plugin available for use in all personal or commercial projects under both MIT and GPL licenses.
*/

/* edited 11-08-11: slideText added, thomas@aquaverde.ch */

$(function(){$("body").removeClass("coda-slider-no-js");$(".coda-slider").children(".panel").hide().end().prepend('<p class="loading">Loading...<br /><img src="images/ajax-loader.gif" alt="loading..." /></p>')});var sliderCount=1; $.fn.codaSlider=function(a){a=$.extend({autoHeight:!1,autoHeightEaseDuration:1E3,autoHeightEaseFunction:"easeInOutExpo",autoSlide:!0,autoSlideInterval:1E4,autoSlideStopWhenClicked:!0,crossLinking:!1,dynamicArrows:!0,dynamicArrowLeftText:"",dynamicArrowRightText:"",dynamicTabs:!1,dynamicTabsAlign:"",dynamicTabsPosition:"",externalTriggerSelector:"",firstPanelToLoad:1,panelTitleSelector:"",slideEaseDuration:1E3,slideEaseFunction:"easeInOutExpo",slideText:".claim",slideTextEaseDuration:1100},a);return this.each(function(){function g(){$(".arrow").unbind("click"); j++;c==1?(d=-(f*(e-1)),h(e-1),c=e,$(a.slideText).not(".current "+a.slideText).css({left:$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction),$(".current "+a.slideText).css({left:0}).animate({left:-$(a.slideText).width()},a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)}),b.find(".current").removeClass("current").parent().find("div:last").addClass("current")):(c-=1,h(c-1),d=-(f*(c-1)),$(a.slideText).not(".current "+ a.slideText).css({left:-$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction),$(".current "+a.slideText).css({left:0}).animate({left:$(a.slideText).width()},a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)}),b.find(".current").removeClass("current").prev().addClass("current"));$(".panelContainer",b).animate({marginLeft:d},a.slideEaseDuration,a.slideEaseFunction);if(a.crossLinking)location.hash= c;return!1}function i(){$(".arrow").unbind("click");j++;c==e?(d=0,c=1,h(0),$(a.slideText).not(".current "+a.slideText).css({left:-$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction),$(".current "+a.slideText).css({left:0}).animate({left:$(a.slideText).width()},a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)}),b.find(".current").removeClass("current").parent().find("div:eq(0)").addClass("current")): (d=-(f*c),h(c),c+=1,$(a.slideText).not(".current "+a.slideText).css({left:$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction),$(".current "+a.slideText).css({left:0}).animate({left:-$(a.slideText).width()},a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)}),b.find(".current").removeClass("current").next().addClass("current"));$(".panelContainer",b).animate({marginLeft:d},a.slideEaseDuration, a.slideEaseFunction);if(a.crossLinking)location.hash=c;return!1}function h(c){a.autoHeight&&(panelHeight=$(".panel:eq("+c+")",b).height(),b.animate({height:panelHeight},a.autoHeightEaseDuration,a.autoHeightEaseFunction))}function k(){if(b.find(".panel").length>1&&(j==0||!a.autoSlideStopWhenClicked)){$(".arrow").unbind("click");if(c==e){var d=0;c=1;$(a.slideText).not(".current "+a.slideText).css({left:-$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction);$(".current "+ a.slideText).css({left:0}).animate({left:$(a.slideText).width()},a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)});b.find(".current").removeClass("current").parent().find("div:eq(0)").addClass("current")}else d=-(f*c),c+=1,$(a.slideText).not(".current "+a.slideText).css({left:$(a.slideText).width()}).animate({left:0},a.slideTextEaseDuration,a.slideEaseFunction),$(".current "+a.slideText).css({left:0}).animate({left:-$(a.slideText).width()}, a.slideTextEaseDuration,a.slideEaseFunction,function(){$(".arrow.left").bind("click",g);$(".arrow.right").bind("click",i)}),b.find(".current").removeClass("current").next().addClass("current");h(c-1);$(".panelContainer",b).animate({marginLeft:d},a.slideEaseDuration,a.slideEaseFunction,function(){setTimeout(k,a.autoSlideInterval)})}}var b=$(this);a.dynamicArrows&&b.find(".panel").length>1&&(b.parents("body").append('<div class="arrow left" id="codaNavLeft-'+sliderCount+'"></div>'),b.parents("body").append('<div class="arrow right" id="codaNavRight-'+ sliderCount+'"></div>'));var f=b.find(".panel").width(),e=b.find(".panel").size(),l=f*e,j=0;$(".panel",b).wrapAll('<div class="panelContainer"></div>');$(".panelContainer",b).css({width:l});if(a.crossLinking&&location.hash&&parseInt(location.hash.slice(1))<=e){var c=parseInt(location.hash.slice(1)),d=-(f*(c-1));$(".panelContainer",b).css({marginLeft:d})}else a.firstPanelToLoad!=1&&a.firstPanelToLoad<=e?(c=a.firstPanelToLoad,d=-(f*(c-1)),$(".panelContainer",b).css({marginLeft:d})):c=1;$(".arrow.left").bind("click", g);$(".arrow.right").bind("click",i);$("#codaNav-"+sliderCount+" a").each(function(e){$(this).bind("click",function(){j++;$(this).addClass("current").parents("ul").find("a").not($(this)).removeClass("current");d=-(f*e);h(e);c=e+1;$(".panelContainer",b).animate({marginLeft:d},a.slideEaseDuration,a.slideEaseFunction);if(!a.crossLinking)return!1})});$(a.externalTriggerSelector).each(function(){sliderCount==parseInt($(this).attr("rel").slice(12))&&$(this).bind("click",function(){j++;targetPanel=parseInt($(this).attr("href").slice(1)); d=-(f*(targetPanel-1));h(targetPanel-1);c=targetPanel;b.siblings(".codaNav").find("a").removeClass("current").parents("ul").find("li:eq("+(targetPanel-1)+") a").addClass("current");$(".panelContainer",b).animate({marginLeft:d},a.slideEaseDuration,a.slideEaseFunction);if(!a.crossLinking)return!1})});a.crossLinking&&location.hash&&parseInt(location.hash.slice(1))<=e?$("#codaNav-"+sliderCount+" a:eq("+(location.hash.slice(1)-1)+")").addClass("current"):a.firstPanelToLoad!=1&&a.firstPanelToLoad<=e?$("#codaNav-"+ sliderCount+" a:eq("+(a.firstPanelToLoad-1)+")").addClass("current"):$("#codaNav-"+sliderCount+" a:eq(0)").addClass("current");a.autoHeight&&(panelHeight=$(".panel:eq("+(c-1)+")",b).height(),b.css({height:panelHeight}));a.autoSlide&&b.ready(function(){setTimeout(k,a.autoSlideInterval)});$(".panel",b).show().end().find("p.loading").remove();b.removeClass("preload");sliderCount++})};